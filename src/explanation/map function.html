<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Map Function Explanation</title>
<style>
  body { font-family: Arial, sans-serif; line-height: 1.5; }
  code { background: #f4f4f4; padding: 2px 4px; border-radius: 3px; }
  pre { background: #f4f4f4; padding: 10px; border-radius: 5px; }
</style>
</head>
<body>

<h1>The <code>map</code> Function in JavaScript</h1>

<p>The <code>map</code> function is used to iterate over an array and create a new array by applying a function to each element.</p>

<h2>Basic Syntax</h2>
<pre><code>const newArray = array.map((element, index, array) => {
  // return a value for the new array
});</code></pre>

<ul>
  <li><strong>element</strong>: the current item in the array</li>
  <li><strong>index</strong>: the index of the current item (optional)</li>
  <li><strong>array</strong>: the original array (optional)</li>
</ul>

<h2>Key Points</h2>
<ul>
  <li><strong>Returns a new array</strong>: <code>map</code> always returns a new array of the same length.</li>
  <li><strong>Original array is not modified</strong>: it is <em>immutable</em>.</li>
  <li><strong>Use curly braces vs parentheses</strong>:
    <ul>
      <li>Curly braces <code>{ }</code>: multi-line function body → <strong>must use return</strong></li>
      <li>Parentheses <code>( )</code>: single expression → <strong>implicit return</strong></li>
    </ul>
  </li>
</ul>

<h2>Examples</h2>

<h3>1. Using parentheses (implicit return)</h3>
<pre><code>const numbers = [1, 2, 3];
const doubled = numbers.map(num => num * 2);
console.log(doubled); // [2, 4, 6]</code></pre>

<h3>2. Using curly braces (explicit return)</h3>
<pre><code>const numbers = [1, 2, 3];
const doubled = numbers.map(num => {
  const result = num * 2;
  return result;
});
console.log(doubled); // [2, 4, 6]</code></pre>

<h3>3. Accessing index</h3>
<pre><code>const numbers = [10, 20, 30];
const withIndex = numbers.map((num, idx) => num + idx);
console.log(withIndex); // [10, 21, 32]</code></pre>

<h3>4. Using <code>Object.keys</code> and <code>map</code> together</h3>
<pre><code>const items = { a: 1, b: 2 };
Object.keys(items).map(key => {
  console.log(key, items[key]);
});
// Output:
// "a" 1
// "b" 2</code></pre>

<h3>5. Using <code>Object.entries</code> and <code>map</code></h3>
<pre><code>const items = { a: 1, b: 2 };
Object.entries(items).map(([key, value]) => {
  console.log(key, value);
});
// Output:
// "a" 1
// "b" 2</code></pre>

<p><strong>Summary:</strong></p>
<ul>
  <li><code>map</code> = transform an array → returns a new array</li>
  <li>Use parentheses for implicit return when returning JSX or single expressions</li>
  <li>Use curly braces when you have multiple statements and need <code>return</code></li>
  <li>Commonly used with <code>Object.keys</code> or <code>Object.entries</code> to loop over object data in React</li>
</ul>

<h1>Explanation of <code>map</code>, <code>Object.keys</code>, and <code>Object.entries</code></h1>

<h2>1. Why curly braces <code>{ }</code> vs parentheses <code>( )</code> in <code>map</code></h2>
<p>In JavaScript, the <code>map</code> function takes a callback function. How you write the callback affects the return:</p>
<ul>
  <li><strong>Curly braces <code>{ }</code></strong>: Used for multi-line function bodies. You must explicitly <code>return</code> a value.</li>
  <li><strong>Parentheses <code>( )</code></strong>: Used for single-expression function bodies. The value of the expression is returned automatically (implicit return).</li>
</ul>

<p>In your code:</p>
<pre><code>
Object.keys(items).map((itemName) => {
  const itemData = items[itemName];
  return (
    &lt;div key={itemName} className="item-container"&gt;
      ...
    &lt;/div&gt;
  );
})
</code></pre>
<p>Here, curly braces are used because we have multiple statements inside the callback: assigning <code>itemData</code> and returning JSX. You cannot use parentheses alone if you need to run extra statements first.</p>

<p>Inside the nested <code>map</code>:</p>
<pre><code>
itemData.charts.map((chart, chartIndex) => (
  &lt;div key={chartIndex} className="item-charts-container"&gt;
    ...
  &lt;/div&gt;
))
</code></pre>
<p>Here, parentheses are enough because the function body is a single expression: returning JSX directly. No need for explicit <code>return</code>.</p>

<h2>2. <code>Object.keys()</code></h2>
<p><code>Object.keys(obj)</code> returns an array of all the keys in an object.</p>
<pre><code>
const obj = { a: 1, b: 2 };
console.log(Object.keys(obj)); // ["a", "b"]
</code></pre>
<p>This allows you to <code>map</code> over object keys just like an array.</p>

<h2>3. <code>Object.entries()</code></h2>
<p><code>Object.entries(obj)</code> returns an array of key-value pairs as arrays.</p>
<pre><code>
const obj = { a: 1, b: 2 };
console.log(Object.entries(obj)); // [["a", 1], ["b", 2]]
</code></pre>
<p>Each element is an array of <code>[key, value]</code>. This is useful when you want both the key and value while iterating.</p>

<h2>4. Summary in your code</h2>
<ul>
  <li>Outer <code>map</code> over <code>Object.keys(items)</code> → multiple statements → use curly braces + explicit <code>return</code>.</li>
  <li>Inner <code>map</code> over <code>itemData.charts</code> → single JSX expression → parentheses → implicit return.</li>
  <li><code>Object.entries(chart)</code> → iterates over keys and values of each chart object.</li>
</ul>


<h1>Explanation of JSX Snippet</h1>

<pre><code>
&lt;div key={chartKey} className="item-chart"&gt;
  &lt;strong&gt;{chartKey}:&lt;/strong&gt;{" "}
  {Array.isArray(chartData) ? chartData.join(", ") : chartData}
&lt;/div&gt;
</code></pre>

<h2>Step-by-step Explanation</h2>

<ul>
  <li><code>&lt;div key={chartKey} className="item-chart"&gt;</code>  
    This creates a div element with:
    <ul>
      <li><code>key={chartKey}</code>: a unique identifier for React to efficiently update lists.</li>
      <li><code>className="item-chart"</code>: applies CSS styling using the "item-chart" class.</li>
    </ul>
  </li>

  <li><code>&lt;strong&gt;{chartKey}:&lt;/strong&gt;</code>  
    - Displays the key of the chart object (e.g., "person_prn", "demons_prn") in bold.</li>

  <li><code>{" "}</code>  
    - Adds a space after the bold text so that the pronouns appear separated from the label.</li>

  <li><code>{Array.isArray(chartData) ? chartData.join(", ") : chartData}</code>  
    - Conditional rendering:
      <ul>
        <li>Checks if <code>chartData</code> is an array with <code>Array.isArray()</code>.</li>
        <li>If it is an array, it joins the elements with a comma and a space (<code>join(", ")</code>).</li>
        <li>If it is not an array (e.g., a string or number), it displays the value directly.</li>
      </ul>
    - Ensures proper display for both array and non-array data.</li>
</ul>

<h2>Example Output</h2>

<pre><code>
chartKey = "person_prn"
chartData = ["én", "te", "ő"]

Resulting HTML rendered by React:
&lt;div class="item-chart"&gt;
  &lt;strong&gt;person_prn:&lt;/strong&gt; én, te, ő
&lt;/div&gt;
</code></pre>



</body>
</html>
